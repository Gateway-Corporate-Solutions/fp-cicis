<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FP-Cicis Demo</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta name="keywords" content="cicis, fp-cicis, fingerprinting, identification, tracking, middleware, gateway corporate, gateway corporate solutions">
    <link rel="preconnect" href="https://cicis.info/" crossorigin="anonymous"/>
    <link rel="dns-prefetch" href="https://cicis.info/"/>
    <meta property="og:locale" content="en_US">

    <!-- Primary Meta Tags -->
    <title>cicis.info | Digital Fingerprinting by Gateway Corporate Solutions</title>
    <meta name="title" content="cicis.info | Digital Fingerprinting by Gateway Corporate Solutions" />
    <meta name="description" content="FP-Cicis is a demonstrative product designed to give consumers an idea of the data that advertisers use to fingerprint their devices." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cicis.info/" />
    <meta property="og:title" content="cicis.info | Digital Fingerprinting by Gateway Corporate Solutions" />
    <meta property="og:description" content="FP-Cicis is a demonstrative product designed to give consumers an idea of the data that advertisers use to fingerprint their devices." />
    <meta property="og:image" content="https://cicis.info/embed.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://cicis.info/" />
    <meta property="twitter:title" content="cicis.info | Digital Fingerprinting by Gateway Corporate Solutions" />
    <meta property="twitter:description" content="FP-Cicis is a demonstrative product designed to give consumers an idea of the data that advertisers use to fingerprint their devices." />
    <meta property="twitter:image" content="https://cicis.info/embed.png" />

    <!-- Meta Tags Generated with https://metatags.io -->

    <link rel="stylesheet" href="/styles.css">
    <script src="/bundle.js"></script>
    <script>
        window.onload = () => {
            // Initialize Snatch
            var Snatch = window["snatch"];
            var agent = new Snatch();

            // Open a websocket connection to FP-Devicer
            var ws = null;
            if (location.protocol === "https:") {
                ws = new WebSocket(`wss://${location.host}/wss`);
            } else {
                ws = new WebSocket(`ws://${location.host}/wss`);
            }

            ws.onmessage = function(event) {
                // Handle incoming messages from the server
                var message = JSON.parse(event.data);
                if (message.type === "fingerprint") {
                    console.log("Fingerprint received from FP-Devicer: ", message.data);
                    var p = document.getElementById("fingerprint");
                    p.innerHTML = `Fingerprint Hash: ${message.data.hash}<br>`
                    switch(true) {
                    case message.data.closestMatch == 100:
                        p.innerHTML += `Closest Match: ${message.data.closestMatch} (Exact Match)<br>`;
                        break;
                    case message.data.closestMatch > 90:
                        p.innerHTML += `Closest Match: ${message.data.closestMatch} (Very Close Match)<br>`;
                        break;
                    case message.data.closestMatch > 50:
                        p.innerHTML += `Closest Match: ${message.data.closestMatch} (Partial Match)<br>`;
                        break;
                    default:
                        p.innerHTML += `Closest Match: ${message.data.closestMatch} (No Match)<br>`;
                        break;
                    }
                    p.innerHTML += `
                        User Agent: ${agent.dataset.userAgent}<br>
                        Platform: ${agent.dataset.platform}<br>
                        Timezone: ${agent.dataset.timezone}<br>
                        User Data: ${JSON.stringify(agent.dataset)}<br>
                    `;
                }

                if (message.type === "error") {
                    console.error("Error from FP-Devicer: ", message.data);
                    var p = document.getElementById("fingerprint");
                    p.innerHTML = `Error: ${message.data}<br>`;
                    p.innerHTML += `
                        User Agent: ${agent.dataset.userAgent}<br>
                        Platform: ${agent.dataset.platform}<br>
                        Timezone: ${agent.dataset.timezone}<br>
                        User Data: ${JSON.stringify(agent.dataset)}<br>
                    `;
                }
            };

            ws.onopen = function() {
                console.log("WebSocket connection established with FP-Devicer.");
                // Send a message to the server
                ws.send(JSON.stringify({
                    type: "data",
                    data: agent.dataset
                }));
            };
        };
    </script>
</head>
<body>
    <div id="header">
        <div id="logo">
            <a href="https://gatewaycorporate.org" target="_blank" rel="noopener noreferrer">
                <img src="/logo.png" alt="The Gateway Corporate Solutions Logo" id="gateway-logo">
            </a>
        </div>
        <div id="title-text">
            <h1>FP-Cicis Demo</h1>
            <h2>This is a simple server running fingerprinting software designed by Gateway Corporate Solutions.</h2>
        </div>
    </div>
    <div id="content">
        <p id="fingerprint">Fingerprint goes here...</p>
    </div>
    <div id="footer">
        <p>Â© 2025 Gateway Corporate Solutions. All rights reserved.</p>
        <p>For information on licensing contact office@gatewaycorporate.org</p>
    </div>
</body>